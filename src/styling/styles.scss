@use 'sass:math';

// =============================================================================
// GLOBAL STYLES
// =============================================================================
// This file contains only global styles, resets, and framework imports.
// Component-specific styles should be in their respective component files.

// Import custom variables (must be before Bootstrap to override defaults)
@import 'custom';

// Import Bootstrap
@import 'bootstrap/scss/bootstrap';

// Import other dependencies
@import 'ngx-sharebuttons/themes/default';
@import 'material-icons-optimized';

// Import utilities
@import 'utilities';

// =============================================================================
// BASE STYLES
// =============================================================================

html,
body {
  height: 100%;
  width: 100%;
  overflow: hidden;
  font-size: 16px;
  line-height: 1.5;
}

a {
  cursor: pointer;
  text-decoration: none;
}

// =============================================================================
// NAVBAR THEME
// =============================================================================

.navbar-inverse {
  background-color: $white-two;
}

body[data-bs-theme='dark'] {
  .navbar-inverse {
    background-color: $black;
  }
}

// =============================================================================
// YOUTUBE PLAYER (must be global - external iframe)
// =============================================================================
// ⚠️ CRITICAL: These styles MUST stay in global CSS
//
// WHY: YouTube API creates iframe dynamically without Angular's view
// encapsulation attributes (_ngcontent-xxx). Styles in player.component.scss
// won't apply to the external iframe.
//
// DO NOT MOVE to player.component.scss - It will break player sizing
// See docs/CSS_ARCHITECTURE.md for full explanation

#player {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
  }

  > youtube-player-placeholder {
    width: 100% !important;
    height: 100% !important;
    overflow: hidden;
  }
}

// Mobile: Reduce player height to 1px
// ⚠️ CRITICAL: Player must stay in DOM for YouTube API
// Setting height to 1px hides it visually but keeps API functional
@media screen and (max-width: 640px) {
  #player {
    height: 1px;
  }

  html,
  body {
    height: auto;
    overflow: visible;
  }
}

// =============================================================================
// FORM ELEMENTS
// =============================================================================

input[type='search'] {
  -webkit-appearance: searchfield;
  appearance: searchfield;
}

input[type='search']::-webkit-search-cancel-button {
  -webkit-appearance: searchfield-cancel-button;
}

// =============================================================================
// BOOTSTRAP OVERRIDES
// =============================================================================

// Button active state
// !important needed to override Bootstrap's own !important declarations
// in button and text utility classes (e.g., .text-light, .btn.active)
.btn.active,
.btn.active.text-light {
  color: $blue !important;
  border-color: transparent !important;
}

// Table active rows
.table > thead > tr > td.active,
.table > tbody > tr > td.active,
.table > tfoot > tr > td.active,
.table > thead > tr.active > td,
.table > tbody > tr.active > td,
.table > tfoot > tr.active > td {
  background-color: $gray-light;
}

// Clickable table cells
td[onclick],
td[ng-click] {
  cursor: pointer;
}

// Button group spacing
.btn-group > .tooltip + .btn,
.btn-group > .popover + .btn {
  margin-left: -1px;
}
