// =============================================================================
// APP COMPONENT - Main layout styles
// =============================================================================

#header {
  padding-top: env(safe-area-inset-top, 0px);
}

#main {
  height: 100%;
  padding-top: calc(60px + env(safe-area-inset-top, 0px));
  padding-bottom: calc(var(--control-bar-height, 72px) + env(safe-area-inset-bottom, 0px));
}

#container,
#player-sidebar {
  height: 100%;
  padding: 0;
  overflow: hidden;
}

#content {
  height: 100%;
  overflow: auto;
  outline: none;
}

// Alert positioning
#alert-connection-lost {
  position: absolute;
  bottom: 50%;
  width: 100%;
  text-align: center;
  margin-bottom: 0;
}

#alert-logout,
#alert-error {
  position: absolute;
  top: 40%;
  width: 100%;
  text-align: center;
  z-index: 10000;
}

// Back-to-playlist floating pill banner
.back-to-playlist-banner {
  position: fixed;
  top: calc(60px + env(safe-area-inset-top, 0px) - 12px);
  left: 50%;
  transform: translateX(-50%);
  z-index: 1031;
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs, 0.25rem);
  padding: 0.375rem 1.125rem;
  border-radius: var(--radius-full, 50px);
  border: 1.5px solid var(--bs-primary);
  background: var(--bs-body-bg);
  color: var(--bs-primary);
  box-shadow: var(--shadow-md);
  font-size: var(--text-sm, 0.875rem);
  font-weight: 600;
  white-space: nowrap;
  text-decoration: none;
  cursor: pointer;
  transition:
    background var(--transition-fast, 150ms) ease,
    color var(--transition-fast, 150ms) ease,
    box-shadow var(--transition-fast, 150ms) ease,
    transform var(--transition-fast, 150ms) ease;
  animation: back-to-playlist-in var(--transition-slow, 300ms) ease-out;

  .material-icons {
    font-size: 1.125rem;
  }

  @media (hover: hover) {
    &:hover {
      background: var(--bs-primary);
      color: var(--bs-white);
      box-shadow: var(--shadow-lg);
      transform: translateX(-50%) translateY(-1px);
    }
  }

  &:focus-visible {
    background: var(--bs-primary);
    color: var(--bs-white);
    box-shadow: var(--shadow-lg);
    outline: 2px solid var(--bs-primary);
    outline-offset: 2px;
    transform: translateX(-50%) translateY(-1px);
  }

  @media (prefers-reduced-motion: reduce) {
    animation: none;
    transition: none;

    @media (hover: hover) {
      &:hover {
        transform: translateX(-50%);
      }
    }
  }
}

@keyframes back-to-playlist-in {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

// Responsive behavior for mobile
@media screen and (max-width: 767.98px) {
  #content {
    // Prevent horizontal scrollbar on mobile browsers
    // Previously used magic number 99.3214534% (2019-2026)
    // Replaced with standard approach on 2026-01-20
    width: 100%;
    box-sizing: border-box;
    overflow: visible;
    padding: 0;
    margin: 0 0 calc(var(--control-bar-height-mobile, 64px) + env(safe-area-inset-bottom, 0px)) 0;
  }

  #main {
    margin-top: 0;
    height: auto;
  }
}
